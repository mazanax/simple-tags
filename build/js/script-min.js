function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var Tags=function(){function t(e,i){_classCallCheck(this,t),i=i||{},this.DOMParent=e,this.data=i.data||[],this.preventSubmitting=i.preventSubmitting||!1,this.inputClass=i.inputClass||null,this.deleteWithoutConfirmation=i.deleteWithoutConfirmation||!1,this.onTagAdded=i.onTagAdded||function(){},this.onTagDeleted=i.onTagDeleted||function(){},this.getAttribute(),this.DOMCreate(),this.DOMRender(),this.onKeyUp()}return _createClass(t,[{key:"DOMCreate",value:function(){var t=document.createElement("ul"),e=document.createElement("input");this.DOMParent.appendChild(t),this.DOMParent.appendChild(e),this.DOMList=this.DOMParent.firstElementChild,this.DOMInput=this.DOMParent.lastElementChild}},{key:"DOMRender",value:function(){var t=this;this.DOMList.innerHTML="",this.arrayOfList.forEach(function(e,i){var n=document.createElement("li");n.innerHTML="".concat(e," <a>&times;</a>"),n.querySelector("a").addEventListener("click",function(){return t.onDelete(i),!1}),t.DOMList.appendChild(n),t.setAttribute()})}},{key:"onKeyUp",value:function(){var t=this,e="";this.DOMInput.addEventListener("keyup",function(i){var n=this.value.trim();if(13===i.keyCode&&t.preventSubmitting&&i.preventDefault(),8!==i.keyCode||!t.arrayOfList||e||n||t.onDelete(t.arrayOfList.length-1),n.includes(",")||13===i.keyCode){var a=n.replace(",","");""!==a&&(t.arrayOfList.push(a),t.onTagAdded(a)),this.value=""}t.DOMRender(),e=this.value.trim()})}},{key:"onDelete",value:function(t){var e=this;!e.deleteWithoutConfirmation&&confirm("Continue to remove tag ".concat(this.arrayOfList[t],"?"))&&(this.arrayOfList=this.arrayOfList.filter(function(i,n){return n===t?(e.onTagDeleted(i),!1):i}),this.DOMRender())}},{key:"getAttribute",value:function(){var t=this.data||[],e="";!t&&(e=this.DOMParent.getAttribute("data-simple-tags"))&&(t=e.split(",")),this.arrayOfList=t.map(function(t){return t.trim()})}},{key:"setAttribute",value:function(){this.DOMParent.setAttribute("data-simple-tags",this.arrayOfList.toString())}}]),t}();export default Tags;